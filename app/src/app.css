@tailwind base;
@tailwind components;
@tailwind utilities;

/*
 * ═══════════════════════════════════════════════════════════════════════════
 * NTM TRACKER DESIGN TOKENS - Component Layer
 * See tailwind.config.cjs for token definitions
 * See docs/ui-patterns-codexmonitor.md for design rationale
 * ═══════════════════════════════════════════════════════════════════════════
 */

@layer components {
  /*
   * ──────────────────────────────────────────────────────────────────────────
   * CARD COMPONENT
   * Standard card with border, background, and radius
   * ──────────────────────────────────────────────────────────────────────────
   */
  .card {
    @apply rounded-card border border-border bg-surface-raised p-card-md;
  }
  .card-lg {
    @apply rounded-card-lg border border-border bg-surface-raised p-card-lg;
  }
  .card-compact {
    @apply rounded-card border border-border bg-surface-raised p-card-sm;
  }

  /*
   * ──────────────────────────────────────────────────────────────────────────
   * LABEL / HEADER STYLES
   * Uppercase tracking for section headers and labels
   * ──────────────────────────────────────────────────────────────────────────
   */
  .label {
    @apply text-xs font-semibold uppercase tracking-label text-text-muted;
  }
  .label-sm {
    @apply text-2xs font-medium uppercase tracking-label-tight text-text-subtle;
  }
  .label-lg {
    @apply text-sm font-semibold uppercase tracking-label-wide text-text-secondary;
  }

  /*
   * ──────────────────────────────────────────────────────────────────────────
   * STATUS BADGE
   * Connection/status indicator badges
   * ──────────────────────────────────────────────────────────────────────────
   */
  .badge {
    @apply inline-flex items-center rounded-full px-3 py-1 text-xs font-medium ring-1;
  }
  .badge-success {
    @apply bg-status-success-muted text-status-success-text ring-status-success-ring;
  }
  .badge-warning {
    @apply bg-status-warning-muted text-status-warning-text ring-status-warning-ring;
  }
  .badge-error {
    @apply bg-status-error-muted text-status-error-text ring-status-error-ring;
  }
  .badge-info {
    @apply bg-status-info-muted text-status-info-text ring-status-info-ring;
  }
  .badge-neutral {
    @apply bg-status-neutral-muted text-status-neutral-text ring-status-neutral-ring;
  }

  /*
   * ──────────────────────────────────────────────────────────────────────────
   * BUTTON STYLES
   * Standard interactive buttons with state variants
   * ──────────────────────────────────────────────────────────────────────────
   */
  .btn {
    @apply inline-flex items-center justify-center gap-2 rounded-lg border px-3 py-2 text-sm font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-border-focus focus:ring-offset-2 focus:ring-offset-surface-base disabled:cursor-not-allowed disabled:opacity-50;
  }
  .btn-sm {
    @apply px-2 py-1 text-xs;
  }
  .btn-lg {
    @apply px-4 py-3 text-base;
  }
  .btn-primary {
    @apply border-accent bg-accent text-text-inverse hover:bg-accent-hover active:bg-accent;
  }
  .btn-secondary {
    @apply border-border bg-surface-base text-text-primary hover:border-border-strong hover:bg-surface-raised active:bg-surface-base;
  }
  .btn-ghost {
    @apply border-transparent bg-transparent text-text-secondary hover:bg-surface-raised hover:text-text-primary active:bg-surface-base;
  }
  .btn-danger {
    @apply border-status-error bg-status-error-muted text-status-error-text hover:bg-status-error hover:text-white active:bg-status-error-muted;
  }
  .btn-success {
    @apply border-status-success bg-status-success-muted text-status-success-text hover:bg-status-success hover:text-white active:bg-status-success-muted;
  }

  /*
   * ──────────────────────────────────────────────────────────────────────────
   * INPUT STYLES
   * Form inputs with consistent styling
   * ──────────────────────────────────────────────────────────────────────────
   */
  .input {
    @apply w-full rounded-lg border border-border bg-surface-base px-3 py-2 text-sm text-text-primary placeholder:text-text-subtle focus:border-border-focus focus:outline-none focus:ring-1 focus:ring-border-focus;
  }

  /*
   * ──────────────────────────────────────────────────────────────────────────
   * CHIP / FILTER STYLES
   * Toggleable chips for filtering and selection
   * ──────────────────────────────────────────────────────────────────────────
   */
  .chip {
    @apply inline-flex cursor-pointer items-center gap-1.5 rounded-full border px-2.5 py-1 text-xs font-medium transition-colors;
  }
  .chip-default {
    @apply border-border bg-surface-base text-text-secondary hover:border-border-strong hover:text-text-primary;
  }
  .chip-active {
    @apply border-accent bg-accent-muted text-accent;
  }
  .chip-success {
    @apply border-status-success-ring bg-status-success-muted text-status-success-text;
  }
  .chip-warning {
    @apply border-status-warning-ring bg-status-warning-muted text-status-warning-text;
  }
  .chip-error {
    @apply border-status-error-ring bg-status-error-muted text-status-error-text;
  }
  .chip-inactive {
    @apply border-border bg-transparent text-text-muted hover:border-border-strong hover:text-text-secondary;
  }

  /*
   * ──────────────────────────────────────────────────────────────────────────
   * CARD INTERACTIVE STATES
   * Cards with hover/focus/selected states
   * ──────────────────────────────────────────────────────────────────────────
   */
  .card-interactive {
    @apply cursor-pointer transition-all hover:border-border-strong hover:shadow-elevation-1;
  }
  .card-selected {
    @apply border-accent ring-1 ring-accent/30;
  }
  .card-critical {
    @apply border-status-error-ring bg-status-error-muted;
  }
  .card-warning {
    @apply border-status-warning-ring bg-status-warning-muted;
  }

  /*
   * ──────────────────────────────────────────────────────────────────────────
   * STATUS INDICATOR DOTS
   * Small dots for inline status indication
   * ──────────────────────────────────────────────────────────────────────────
   */
  .status-dot {
    @apply inline-block h-2 w-2 rounded-full;
  }
  .status-dot-success {
    @apply bg-status-success;
  }
  .status-dot-warning {
    @apply bg-status-warning;
  }
  .status-dot-error {
    @apply bg-status-error;
  }
  .status-dot-info {
    @apply bg-status-info;
  }
  .status-dot-neutral {
    @apply bg-status-neutral;
  }
  .status-dot-pulse {
    @apply animate-pulse-slow;
  }

  /*
   * ──────────────────────────────────────────────────────────────────────────
   * TRAY-SPECIFIC COMPACT STYLES
   * Ultra-compact styles for tray popover
   * ──────────────────────────────────────────────────────────────────────────
   */
  .tray-item {
    @apply flex items-center justify-between rounded-lg border border-border bg-surface-base px-3 py-2 text-sm transition-colors hover:border-border-strong;
  }
  .tray-item-compact {
    @apply flex items-center justify-between rounded border border-border bg-surface-base px-2 py-1 text-xs;
  }
  .tray-item-critical {
    @apply border-status-error-ring bg-status-error-muted;
  }

  /*
   * ──────────────────────────────────────────────────────────────────────────
   * DIVIDER
   * Horizontal dividers for section separation
   * ──────────────────────────────────────────────────────────────────────────
   */
  .divider {
    @apply h-px w-full bg-border;
  }
  .divider-subtle {
    @apply h-px w-full bg-border-subtle;
  }

  /*
   * ──────────────────────────────────────────────────────────────────────────
   * GLOW EFFECTS
   * Soft glow shadows for emphasis
   * ──────────────────────────────────────────────────────────────────────────
   */
  .shadow-glow-success {
    box-shadow: 0 0 12px rgba(52, 211, 153, 0.45);
  }
  .shadow-glow-warning {
    box-shadow: 0 0 12px rgba(251, 191, 36, 0.45);
  }
  .shadow-glow-error {
    box-shadow: 0 0 12px rgba(251, 113, 133, 0.45);
  }
  .shadow-glow-info {
    box-shadow: 0 0 12px rgba(56, 189, 248, 0.45);
  }

  /*
   * ──────────────────────────────────────────────────────────────────────────
   * POPOVER MODE
   * Specific styles for tray popover compact view
   * ──────────────────────────────────────────────────────────────────────────
   */
  .popover-mode {
    @apply overflow-hidden;
    /* Disable background gradient for cleaner compact look */
    background: theme('colors.surface.base');
  }

  /*
   * ──────────────────────────────────────────────────────────────────────────
   * ACCESSIBILITY UTILITIES
   * Screen reader only, focus states, skip links
   * ──────────────────────────────────────────────────────────────────────────
   */

  /* Screen reader only - visually hidden but accessible */
  .sr-only {
    @apply absolute h-px w-px overflow-hidden whitespace-nowrap;
    clip: rect(0, 0, 0, 0);
    border: 0;
  }

  /* Skip link for keyboard navigation */
  .skip-link {
    @apply sr-only focus:not-sr-only focus:absolute focus:left-4 focus:top-4 focus:z-50 focus:rounded-lg focus:bg-accent focus:px-4 focus:py-2 focus:text-text-inverse focus:outline-none focus:ring-2 focus:ring-border-focus;
  }

  /* Focus visible ring for keyboard navigation (not mouse) */
  .focus-ring {
    @apply focus:outline-none focus-visible:ring-2 focus-visible:ring-border-focus focus-visible:ring-offset-2 focus-visible:ring-offset-surface-base;
  }

  /* Enhanced focus for interactive cards */
  .card-interactive {
    @apply focus:outline-none focus-visible:ring-2 focus-visible:ring-border-focus focus-visible:ring-offset-2 focus-visible:ring-offset-surface-base;
  }

  /* Focus states for chips */
  .chip {
    @apply focus:outline-none focus-visible:ring-2 focus-visible:ring-border-focus focus-visible:ring-offset-1 focus-visible:ring-offset-surface-base;
  }

  /* Focus state for tray items */
  .tray-item {
    @apply focus:outline-none focus-visible:ring-2 focus-visible:ring-border-focus focus-visible:ring-inset;
  }
}
